!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.nodom=t.nodom||{})}(this,function(t){"use strict";function e(t){this.reset(t.className)}function n(){this.childNodes=[]}function r(t){n.apply(this),this.nodeType=3,this.textContent=t}function i(t){return null==t||0===t.length?null:t.replace(N,"$1").match(v).map(function(t,e){return{tagName:(L(t.match(E))||"").toLowerCase(),id:C(j(t.match(b))),classNames:T(t.match(w)),relation:e>0?t[0]:null}}).reverse()}function o(t,e){return null!=t&&((!e.tagName||t.tagName===e.tagName)&&((!e.id||t.id===e.id)&&!(e.classNames&&!e.classNames.every(function(e){return t.classList.contains(e)}))))}function s(t,e){for(var n=t,r=1;r<e.length;r++){var i=function(t){switch(e[t-1].relation){case" ":do{n=n.parentNode}while(null!=n&&!o(n,e[t]));break;case">":if(!o(n.parentNode,e[t]))return{v:!1};break;case"+":if(!o(n.parentNode.childNodes.find(function(t){return t.nextSibling===n}),e[t]))return{v:!1};break;case"~":if(!n.parentNode.childNodes.slice(0,n.parentNode.childNodes.indexOf(n)).some(function(n){return o(n,e[t])}))return{v:!1}}}(r);if(i)return i.v}return null!=n}function c(t,e,n){var r=i(t);if(null==r)return[];for(var c=e.getElementsByTagName(r[0].tagName||"*"),u=[],a=0;a<c.length&&!(o(c[a],r[0])&&s(c[a],r)&&(u.push(c[a]),null!=n&&u.length>=n));a++);return u}function u(t,e){return c(t,e,1)[0]||null}function a(){}function l(t){var e=[],n=t.split("");n.map(function(t,n){"-"===t&&e.push(n)});var r=t.split("");return e.map(function(t,e){var i=n[t+1].toUpperCase();r.splice(t-e,2,i)}),r.join("")}function h(t){var e=[],n=t.split("");n.map(function(t,n){/^[A-Z]/.test(t)&&e.push(n)});var r=t.split("");return e.map(function(t){r.splice(t,1,"-"+n[t].toLowerCase())}),r.join("")}function p(){}function d(){}function f(t){var e=this;n.apply(this),this.attributes=new a,this.style=new p,this.dataset=new d,this.nodeType=1;for(var r in t)e[r]=t[r];this.tagName||(this.tagName="div"),this.tagName=this.tagName.toLowerCase(),Object.defineProperty(this,"isVoidEl",{value:P[this.tagName]})}function m(t){return t.render()}function y(){this.documentElement=this.createElement("html"),this.head=this.documentElement.appendChild(this.createElement("head")),this.body=this.documentElement.appendChild(this.createElement("body")),this.nodeType=9}function g(t,e){return(t.el||t).render(e)}e.prototype=[],e.prototype.reset=function(t){var e=this,n=(t||"").split(" ");this.length=n.length;for(var r=0;r<n.length;r++)e[r]=n[r]},e.prototype.add=function(t){this.contains(t)||this.push(t)},e.prototype.contains=function(t){for(var e=this,n=0;n<this.length;n++)if(e[n]===t)return!0;return!1},e.prototype.remove=function(t){for(var e=this,n=this.classNames,r=0;r<this.length;r++)n[r]===t&&e.splice(r,1)},e.prototype.toString=function(){return this.join(" ").trim()},n.prototype.cloneNode=function(t){if(!t||"childNodes"in this&&Array.isArray(this.childNodes)&&0===this.childNodes.length){return new(Object.getPrototypeOf(this).constructor)(this)}var e=Object.getPrototypeOf(this),n=new e.constructor(this),r=[];return this.childNodes.map(function(t){return r.push(t.cloneNode(!0))}),n.childNodes=r,n},Object.defineProperty(n.prototype,"nodeValue",{get:function(){return null}}),Object.defineProperty(n.prototype,"children",{get:function(){return this.childNodes}}),Object.defineProperty(n.prototype,"firstChild",{get:function(){return this.childNodes[0]}}),Object.defineProperty(n.prototype,"lastChild",{get:function(){return this.childNodes[this.childNodes.length-1]}}),Object.defineProperty(n.prototype,"nodeName",{get:function(){return this.tagName}}),r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.render=function(){return this.textContent},Object.defineProperty(r.prototype,"nodeValue",{get:function(){return this.textContent}});var N=new RegExp("\\s*([ >+~])\\s*","g"),v=new RegExp("(^|[ >+~])([^ >+~]+)","ig"),b=new RegExp("#[^. >+~]+","g"),E=new RegExp("^(?:[ >+~])?([^#. >+~\\[\\]]+)"),w=new RegExp("\\.[^. >+~]+","g"),j=function(t){return null!=t?t[0]:null},L=function(t){return Array.isArray(t)&&t.length>1?t[1]:null},O=function(t){return t.substr(1)},C=function(t){return null!=t?O(t):null},T=function(t){return function(e){return Array.isArray(e)?e.map(t):null}}(O);a.prototype={},p.prototype=Object.create({}),p.prototype.setProperty=function(t,e){this[l(t)]=e},p.prototype.valueOf=function(){return this},p.prototype.toString=function(){var t=this,e="";for(var n in t)t.hasOwnProperty(n)&&(e+=h(n)+": "+t[n]+"; ");return e},p.prototype.setValue=function(t){var e=this,n=t.split(";");for(var r in n){var i=r.split(":");e[i[0].trim()]=i[1].trim()}},Object.defineProperty(p.prototype,"cssText",{get:function(){return this.toString()},set:function(t){this.setValue(t)},enumerable:!0}),d.prototype={};var P="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").reduce(function(t,e){return t[e]=!0,t},{}),x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f);f.prototype=Object.create(n.prototype),f.prototype.constructor=f;var B=function(){};"blur click focus".split(" ").forEach(function(t){return f.prototype[t]=B});var _="tagName view nodeType isVoidEl parent parentNode childNodes isMounted".split(" ").reduce(function(t,e){return t[e]=!0,t},{});f.prototype.render=function(t){var e=this,n=this.isVoidEl,r=[],i=!1,o="";for(var s in e)if("isMounted"!==s&&"style"!==s&&"attributes"!==s&&"dataset"!==s&&"_classList"!==s&&e.hasOwnProperty(s))if(_[s])e.childNodes.length&&(i=!0);else if("_innerHTML"===s)o=e._innerHTML;else if(!_[s]){if("function"==typeof e[s])continue;var c=void 0;switch(typeof e[s]){case"string":case"number":c='"'+e[s]+'"';break;default:c="'"+JSON.stringify(e[s])+"'"}r.push(s+"="+c)}this.className&&r.push('class="'+this.className+'"');var u=this.style.cssText;u.length>0&&r.push('style="'+u+'"');var a=Object.keys(this.attributes);if(a.length>0&&a.filter(function(t){return!(t in["style","_classList"])}).map(function(t){return r.push(t+'="'+e.attributes[t]+'"')}),t)return!n&&i?this.childNodes.map(m).join(""):!n&&o?o:"";if(!n&&i){var l=this.tagName;return"<"+[l].concat(r).join(" ")+">"+this.childNodes.map(m).join("")+"</"+l+">"}if(!n&&o){var h=this.tagName;return"<"+[this.tagName].concat(r).join(" ")+">"+o+"</"+h+">"}var p=this.tagName,d=[p].concat(r).join(" ");return n?"<"+d+">":"<"+d+"></"+this.tagName+">"},f.prototype.addEventListener=function(){},f.prototype.removeEventListener=function(){},f.prototype.setAttribute=function(t,e){var n=this;switch(t){case"class":this.classList.splice(0,this.classList.length);e.split(" ").forEach(function(t){return n.classList.add(t)})}var r=t;/^data-/.test(t)?(r=l(t),this.dataset[r]=e,Object.defineProperty(this,r,{get:function(t,e){return function(){return t.dataset[e]}}(this,r),enumerable:!0})):this.hasOwnProperty(r)||Object.defineProperty(this,r,{get:function(t,e){return function(){return t.attributes[e]}}(this,r),enumerable:!0}),this.attributes[t]=e},f.prototype.getAttribute=function(t){return this.attributes[t]||this[t]},f.prototype.appendChild=function(t){var e=this;if(!this.isVoidEl){t.parentNode=this;for(var n=0;n<this.childNodes.length;n++)e.childNodes[n]===t&&e.childNodes.splice(n,1);return this.childNodes.push(t),t}},f.prototype.insertBefore=function(t,e){var n=this;if(!this.isVoidEl){if(t.parentNode=this,null==e)n.childNodes.push(t);else for(var r=0;r<this.childNodes.length;r++)n.childNodes[r]===e?n.childNodes.splice(r++,0,t):n.childNodes[r]===t&&n.childNodes.splice(r,1);return t}},f.prototype.replaceChild=function(t,e){var n=this;if(!this.isVoidEl){t.parentNode=this;for(var r=0;r<this.childNodes.length;r++)n.childNodes[r]===e&&(n.childNodes[r]=t)}},f.prototype.removeChild=function(t){var e=this;if(!this.isVoidEl){t.parentNode=null;for(var n=0;n<this.childNodes.length;n++)e.childNodes[n]===t&&e.childNodes.splice(n,1)}},f.prototype.getElementsByTagName=function(t){var e=t.toLowerCase();return this.isVoidEl||0===this.childNodes.length?[]:this.childNodes.reduce(function(t,n){return n.getElementsByTagName?"*"===e||n.tagName===e?t.concat(n,n.getElementsByTagName(e)):t.concat(n.getElementsByTagName(e)):t},[])},f.prototype.getElementsByClassName=function(t){return Array.isArray(t)?0===t.length?[]:this.childNodes.reduce(function(e,n){return t.every(function(t){return n.classList.contains(t)})?e.concat(n,n.getElementsByClassName(t)):e.concat(n.getElementsByClassName(t))},[]):this.getElementsByClassName(String(t).split(" ").map(function(t){return t.trim()}).filter(function(t){return t.length>0}))},f.prototype.querySelector=function(t){return u(t,this)},f.prototype.querySelectorAll=function(t){return c(t,this)},f.prototype.matches=function(t){var e=i(t);return!(null==e||e.length>1)&&o(this,e[0])},Object.defineProperties(f.prototype,{_classList:{value:null,enumerable:!1,configurable:!1,writable:!0},classList:{get:function(){return this._classList||(this._classList=new e(this)),this._classList}},className:{set:function(t){this.classList.reset(t)},get:function(){return null==this._classList?"":this._classList.toString()}},innerHTML:{get:function(){return this._innerHTML||this.render(!0)},set:function(t){this._innerHTML=t}},outerHTML:{get:function(){return this.render()}},firstChild:{get:function(){return this.childNodes[0]}},textContent:{get:function(){return this.childNodes.filter(function(t){return t instanceof r}).map(function(t){return t.textContent}).join("")},set:function(t){this.childNodes=[new r(t)]}},nextSibling:{get:function(){for(var t=this,e=this.parentNode.childNodes,n=0;n<e.length;n++)if(e[n]===t)return e[n+1]}}}),y.prototype.createElement=function(t){var e=new f({tagName:t});return"ownerDocument"in e||Object.defineProperty(e,"ownerDocument",{enumerable:!1,get:function(t){return function(){return t}}(this)}),e},y.prototype.createElementNS=function(t,e){var n;return n="http://www.w3.org/2000/svg"===e?new x({tagName:e}):new f({tagName:e}),"ownerDocument"in n||Object.defineProperty(n,"ownerDocument",{enumerable:!1,get:function(t){return function(){return t}}(this)}),n},y.prototype.createDocumentFragment=function(){return(new y).body},y.prototype.createTextNode=function(t){var e=new r(t);return"ownerDocument"in e||Object.defineProperty(e,"ownerDocument",{enumerable:!1,get:function(t){return function(){return t}}(this)}),e},y.prototype.getElementsByTagName=function(t){var e=t.toLowerCase();return"html"===e?[this.documentElement]:"*"===e?[this.documentElement].concat(this.documentElement.getElementsByTagName(e)):this.documentElement.getElementsByTagName(e)},y.prototype.getElementsByClassName=function(t){var e=this;if(!Array.isArray(t))return this.getElementsByClassName(String(t).split(" ").map(function(t){return t.trim()}).filter(function(t){return t.length>0}));if(0===t.length)return[];var n=t.every(function(t){return e.documentElement.classList.contains(t)});return this.documentElement.childNodes.reduce(function(e,n){return t.every(function(t){return n.classList.contains(t)})?e.concat(n,n.getElementsByClassName(t)):e.concat(n.getElementsByClassName(t))},n?[this.documentElement]:[])},y.prototype.getElementById=function(t){function e(t,n){for(var r=[],i=0;i<n.length;i++){if(n[i].id===t)return n[i];r=r.concat(n[i].childNodes)}return r.length>0?e(t,r):null}return this.documentElement.id===t?this.documentElement:e(t,this.documentElement.childNodes)},y.prototype.querySelector=function(t){return u(t,this)},y.prototype.querySelectorAll=function(t){return c(t,this)},y.prototype.implementation=Object.create(null),y.prototype.implementation.hasFeature=function(t){return!1},y.prototype.implementation.createHTMLDocument=function(t){var e=new y;return e.outerHTML=t,e},t.Document=y,t.HTMLElement=f,t.SVGElement=x,t.Node=n,t.render=g,t.TextNode=r,Object.defineProperty(t,"__esModule",{value:!0})});