!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).nodom={})}(this,function(t){"use strict";var r=function(e){function t(t){e.call(this),this.reset(t.className)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.reset=function(t){var e=(t||"").split(" ");this.length=e.length;for(var n=0;n<e.length;n++)this[n]=e[n]},t.prototype.add=function(t){this.contains(t)||this.push(t)},t.prototype.contains=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return!0;return!1},t.prototype.item=function(t){return this[t]||null},t.prototype.remove=function(t){for(var e=this.classNames,n=0;n<this.length;n++)e[n]===t&&this.splice(n,1)},t.prototype.toggle=function(t){var e=this.indexOf(t);return 0<=e?(this.splice(e,1),!1):(this.push(t),!0)},t.prototype.toString=function(){return this.join(" ").trim()},t}(Array);r.prototype.constructor=Array;function e(){this.childNodes=[]}var n={nodeValue:{configurable:!0},children:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},nodeName:{configurable:!0}};e.prototype.cloneNode=function(t){if(!t||"childNodes"in this&&Array.isArray(this.childNodes)&&0===this.childNodes.length)return new(Object.getPrototypeOf(this).constructor)(this);var e=new(Object.getPrototypeOf(this).constructor)(this),n=[];return this.childNodes.map(function(t){return n.push(t.cloneNode(!0))}),e.childNodes=n,e},n.nodeValue.get=function(){return null},n.children.get=function(){return this.childNodes},n.firstChild.get=function(){return this.childNodes[0]||null},n.lastChild.get=function(){return this.childNodes[this.childNodes.length-1]||null},n.nodeName.get=function(){return this.tagName},Object.defineProperties(e.prototype,n);var i={"&":"&amp;","<":"&lt;",">":"&gt;"};function o(t){return t.substr(1)}var s,u=function(e){function t(t){e.call(this),this.nodeType=3,this.textContent=String(t)}e&&(t.__proto__=e);var n={nodeValue:{configurable:!0}};return((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.render=function(){return function(t){return(t||"").replace(/[&<>]/g,function(t){return i[t]})}(this.textContent)},n.nodeValue.get=function(){return this.textContent},Object.defineProperties(t.prototype,n),t}(e),c=new RegExp("\\s*([ >+~])\\s*","g"),a=new RegExp("(^|[ >+~])([^ >+~]+)","ig"),l=new RegExp("#[^. >+~]+","g"),h=new RegExp("^(?:[ >+~])?([^#. >+~\\[\\]]+)"),p=new RegExp("\\.[^. >+~]+","g"),f=function(t){return null!=t?t[0]:null},d=function(t){return Array.isArray(t)&&1<t.length?t[1]:null},m=function(t){return null!=t?o(t):null},g=(s=o,function(t){return Array.isArray(t)?t.map(s):null});function y(t){return null==t||0===t.length?null:t.replace(c,"$1").match(a).map(function(t,e){return{tagName:(d(t.match(h))||"").toLowerCase(),id:m(f(t.match(l))),classNames:g(t.match(p)),relation:0<e?t[0]:null}}).reverse()}function N(e,t){return null!=e&&((!t.tagName||e.tagName===t.tagName)&&((!t.id||e.id===t.id)&&!(t.classNames&&!t.classNames.every(function(t){return e.classList.contains(t)}))))}function v(t,n){for(var r=t,e=function(e){switch(n[e-1].relation){case" ":for(;null!=(r=r.parentNode)&&!N(r,n[e]););break;case">":if(!N(r.parentNode,n[e]))return{v:!1};break;case"+":if(!N(r.parentNode.childNodes.find(function(t){return t.nextSibling===r}),n[e]))return{v:!1};break;case"~":if(!r.parentNode.childNodes.slice(0,r.parentNode.childNodes.indexOf(r)).some(function(t){return N(t,n[e])}))return{v:!1}}},i=1;i<n.length;i++){var o=e(i);if(o)return o.v}return null!=r}function b(t,e,n){var r=y(t);if(null==r)return[];for(var i=e.getElementsByTagName(r[0].tagName||"*"),o=[],s=0;s<i.length&&!(N(i[s],r[0])&&v(i[s],r)&&(o.push(i[s]),null!=n&&o.length>=n));s++);return o}function E(t,e){return b(t,e,1)[0]||null}function w(){}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function j(t){var n=[],r=t.split("");r.map(function(t,e){"-"===t&&n.push(e)});var i=t.split("");return n.map(function(t,e){var n=r[t+1].toUpperCase();i.splice(t-e,2,n)}),i.join("")}function C(t){var n=[],e=t.split("");e.map(function(t,e){/^[A-Z]/.test(t)&&n.push(e)});var r=t.split("");return n.map(function(t){r.splice(t,1,"-"+e[t].toLowerCase())}),r.join("")}function _(){}function O(){}w.prototype={},(_.prototype=Object.create({})).getPropertyPriority=function(t){return""},_.prototype.getPropertyValue=function(t){return L(this,t=j(t))?this[t]:""},_.prototype.setProperty=function(t,e){this[j(t)]=e},_.prototype.removeProperty=function(t){var e=this.getPropertyValue(t);return e&&delete this[j(t)],e},_.prototype.valueOf=function(){return this},_.prototype.toString=function(){var t="";for(var e in this)L(this,e)&&(t+=C(e)+": "+this[e]+"; ");return t},_.prototype.setValue=function(t){var e=t.split(";");for(var n in e){var r=n.split(":");this[r[0].trim()]=r[1].trim()}},Object.defineProperty(_.prototype,"cssText",{get:function(){return this.toString()},set:function(t){this.setValue(t)},enumerable:!0}),O.prototype={};var T="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").reduce(function(t,e){return t[e]=!0,t},{}),x="tagName view nodeType isVoidEl parent parentNode childNodes isMounted".split(" ").reduce(function(t,e){return t[e]=!0,t},{}),P=function(n){function t(t){for(var e in n.call(this),this.attributes=new w,this.style=new _,this.dataset=new O,this.nodeType=1,t)this[e]=t[e];this.tagName||(this.tagName="div"),this.tagName=this.tagName.toLowerCase(),Object.defineProperty(this,"isVoidEl",{value:T[this.tagName]})}n&&(t.__proto__=n);var e={classList:{configurable:!0},className:{configurable:!0},innerHTML:{configurable:!0},outerHTML:{configurable:!0},firstChild:{configurable:!0},textContent:{configurable:!0},nextSibling:{configurable:!0}};return((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.render=function(t){var e=this,n=this.isVoidEl,r=[],i=!1,o="";for(var s in this)if("isMounted"!==s&&"style"!==s&&"attributes"!==s&&"dataset"!==s&&"_classList"!==s&&L(this,s))if(x[s])this.childNodes.length&&(i=!0);else if("_innerHTML"===s)o=this._innerHTML;else if(!x[s]){if(s in this.attributes)continue;if("function"==typeof this[s])continue;var u=void 0;switch(typeof this[s]){case"string":case"number":u='"'+this[s]+'"';break;default:u="'"+JSON.stringify(this[s])+"'"}r.push(s+"="+u)}this.className&&r.push('class="'+this.className+'"');var c=this.style.cssText;0<c.length&&r.push('style="'+c+'"');var a=Object.keys(this.attributes);if(0<a.length&&a.filter(function(t){return"style"!==t&&"_classList"!==t}).map(function(t){return r.push(t+'="'+e.attributes[t]+'"')}),t)return!n&&i?this.childNodes.map(S).join(""):!n&&o?o:"";if(!n&&i){var l=this.tagName;return"<"+[l].concat(r).join(" ")+">"+this.childNodes.map(S).join("")+"</"+l+">"}if(!n&&o){var h=this.tagName;return"<"+[this.tagName].concat(r).join(" ")+">"+o+"</"+h+">"}var p=[this.tagName].concat(r).join(" ");return n?"<"+p+">":"<"+p+"></"+this.tagName+">"},t.prototype.addEventListener=function(){},t.prototype.removeEventListener=function(){},t.prototype.setAttribute=function(t,e){var n=this;if("class"===t)return this.classList.splice(0,this.classList.length),void e.split(" ").forEach(function(t){return n.classList.add(t)});var r,i,o,s,u=t;/^data-/.test(t)?(u=j(t),this.dataset[u]=e,Object.defineProperty(this,u,{get:(o=this,s=u,function(){return o.dataset[s]}),enumerable:!1,configurable:!0})):L(this,u)||Object.defineProperty(this,u,{get:(r=this,i=u,function(){return r.attributes[i]}),enumerable:!0,configurable:!0}),this.attributes[t]=e},t.prototype.getAttribute=function(t){return this.attributes[t]||this[t]||null},t.prototype.removeAttribute=function(t){"class"!==t?(/^data-/.test(t)&&delete this.dataset[j(t)],L(this.attributes,t)&&(delete this.attributes[t],delete this[t])):this.classList.reset()},t.prototype.appendChild=function(t){if(this.isVoidEl)return t;t.parentNode=this;for(var e=0;e<this.childNodes.length;e++)this.childNodes[e]===t&&this.childNodes.splice(e,1);return this.childNodes.push(t),t},t.prototype.insertBefore=function(t,e){var n=this;if(this.isVoidEl)return t;if(t.parentNode=this,null==e)n.childNodes.push(t);else for(var r=0;r<this.childNodes.length;r++)n.childNodes[r]===e?n.childNodes.splice(r++,0,t):n.childNodes[r]===t&&n.childNodes.splice(r,1);return t},t.prototype.replaceChild=function(t,e){if(this.isVoidEl)return e;t.parentNode=this;for(var n=0;n<this.childNodes.length;n++)this.childNodes[n]===e&&(this.childNodes[n]=t);return e},t.prototype.removeChild=function(t){if(this.isVoidEl)return t;t.parentNode=null;for(var e=0;e<this.childNodes.length;e++)this.childNodes[e]===t&&this.childNodes.splice(e,1);return t},t.prototype.getElementsByTagName=function(t){var n=t.toLowerCase();return this.isVoidEl||0===this.childNodes.length?[]:this.childNodes.reduce(function(t,e){return e.getElementsByTagName?"*"===n||e.tagName===n?t.concat(e,e.getElementsByTagName(n)):t.concat(e.getElementsByTagName(n)):t},[])},t.prototype.getElementsByClassName=function(n){return Array.isArray(n)?0===n.length?[]:this.childNodes.reduce(function(t,e){return n.every(function(t){return e.classList.contains(t)})?t.concat(e,e.getElementsByClassName(n)):t.concat(e.getElementsByClassName(n))},[]):this.getElementsByClassName(String(n).split(" ").map(function(t){return t.trim()}).filter(function(t){return 0<t.length}))},t.prototype.querySelector=function(t){return E(t,this)},t.prototype.querySelectorAll=function(t){return b(t,this)},t.prototype.matches=function(t){var e=y(t);return!(null==e||1<e.length)&&N(this,e[0])},e.classList.get=function(){return this._classList||(this._classList=new r(this)),this._classList},e.className.set=function(t){this.classList.reset(t)},e.className.get=function(){return null==this._classList?"":this._classList.toString()},e.innerHTML.get=function(){return this._innerHTML||this.render(!0)},e.innerHTML.set=function(t){this._innerHTML=t},e.outerHTML.get=function(){return this.render()},e.firstChild.get=function(){return this.childNodes[0]||null},e.textContent.get=function(){return this.childNodes.filter(function(t){return t instanceof u}).map(function(t){return t.textContent}).join("")},e.textContent.set=function(t){this.childNodes=[new u(t)]},e.nextSibling.get=function(){for(var t=this.parentNode.childNodes,e=0;e<t.length;e++)if(t[e]===this)return t[e+1];return null},Object.defineProperties(t.prototype,e),t}(e);Object.defineProperty(P.prototype,"_classList",{value:null,enumerable:!1,configurable:!1,writable:!0});function A(){}"blur click focus".split(" ").forEach(function(t){return P.prototype[t]=A});var B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(P);function S(t){return t.render()}function V(){this.documentElement=this.createElement("html"),this.head=this.documentElement.appendChild(this.createElement("head")),this.body=this.documentElement.appendChild(this.createElement("body")),this.nodeType=9}V.prototype.createElement=function(t){var e,n=new P({tagName:t});return"ownerDocument"in n||Object.defineProperty(n,"ownerDocument",{enumerable:!1,get:(e=this,function(){return e})}),n},V.prototype.createElementNS=function(t,e){var n,r;return"ownerDocument"in(n="http://www.w3.org/2000/svg"===e?new B({tagName:e}):new P({tagName:e}))||Object.defineProperty(n,"ownerDocument",{enumerable:!1,get:(r=this,function(){return r})}),n},V.prototype.createDocumentFragment=function(){return(new V).body},V.prototype.createTextNode=function(t){var e,n=new u(t);return"ownerDocument"in n||Object.defineProperty(n,"ownerDocument",{enumerable:!1,get:(e=this,function(){return e})}),n},V.prototype.getElementsByTagName=function(t){var e=t.toLowerCase();return"html"===e?[this.documentElement]:"*"===e?[this.documentElement].concat(this.documentElement.getElementsByTagName(e)):this.documentElement.getElementsByTagName(e)},V.prototype.getElementsByClassName=function(n){var e=this;if(!Array.isArray(n))return this.getElementsByClassName(String(n).split(" ").map(function(t){return t.trim()}).filter(function(t){return 0<t.length}));if(0===n.length)return[];var t=n.every(function(t){return e.documentElement.classList.contains(t)});return this.documentElement.childNodes.reduce(function(t,e){return n.every(function(t){return e.classList.contains(t)})?t.concat(e,e.getElementsByClassName(n)):t.concat(e.getElementsByClassName(n))},t?[this.documentElement]:[])},V.prototype.getElementById=function(t){if(this.documentElement.id===t)return this.documentElement;return function t(e,n){for(var r=[],i=0;i<n.length;i++){if(n[i].id===e)return n[i];r=r.concat(n[i].childNodes)}return 0<r.length?t(e,r):null}(t,this.documentElement.childNodes)},V.prototype.querySelector=function(t){return E(t,this)},V.prototype.querySelectorAll=function(t){return b(t,this)},(V.prototype.implementation=Object.create(null)).hasFeature=function(t){return!1},V.prototype.implementation.createHTMLDocument=function(t){var e=new V;return e.outerHTML=t,e},t.Document=V,t.HTMLElement=P,t.Node=e,t.SVGElement=B,t.TextNode=u,t.render=function(t,e){return(t.el||t).render(e)},Object.defineProperty(t,"__esModule",{value:!0})});