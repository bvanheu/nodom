!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).nodom={})}(this,function(t){"use strict";function e(t){this.reset(t.className)}function n(){this.childNodes=[]}function r(t){n.apply(this),this.nodeType=3,this.textContent=t}(e.prototype=[]).reset=function(t){var e=(t||"").split(" ");this.length=e.length;for(var n=0;n<e.length;n++)this[n]=e[n]},e.prototype.add=function(t){this.contains(t)||this.push(t)},e.prototype.contains=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return!0;return!1},e.prototype.remove=function(t){for(var e=this.classNames,n=0;n<this.length;n++)e[n]===t&&this.splice(n,1)},e.prototype.toString=function(){return this.join(" ").trim()},n.prototype.cloneNode=function(t){if(!t||"childNodes"in this&&Array.isArray(this.childNodes)&&0===this.childNodes.length)return new(Object.getPrototypeOf(this).constructor)(this);var e=new(Object.getPrototypeOf(this).constructor)(this),n=[];return this.childNodes.map(function(t){return n.push(t.cloneNode(!0))}),e.childNodes=n,e},Object.defineProperty(n.prototype,"nodeValue",{get:function(){return null}}),Object.defineProperty(n.prototype,"children",{get:function(){return this.childNodes}}),Object.defineProperty(n.prototype,"firstChild",{get:function(){return this.childNodes[0]}}),Object.defineProperty(n.prototype,"lastChild",{get:function(){return this.childNodes[this.childNodes.length-1]}}),Object.defineProperty(n.prototype,"nodeName",{get:function(){return this.tagName}}),((r.prototype=Object.create(n.prototype)).constructor=r).prototype.render=function(){return this.textContent},Object.defineProperty(r.prototype,"nodeValue",{get:function(){return this.textContent}});var i,o=new RegExp("\\s*([ >+~])\\s*","g"),s=new RegExp("(^|[ >+~])([^ >+~]+)","ig"),c=new RegExp("#[^. >+~]+","g"),u=new RegExp("^(?:[ >+~])?([^#. >+~\\[\\]]+)"),a=new RegExp("\\.[^. >+~]+","g"),l=function(t){return null!=t?t[0]:null},h=function(t){return Array.isArray(t)&&1<t.length?t[1]:null},p=function(t){return t.substr(1)},d=function(t){return null!=t?p(t):null},f=(i=p,function(t){return Array.isArray(t)?t.map(i):null});function m(t){return null==t||0===t.length?null:t.replace(o,"$1").match(s).map(function(t,e){return{tagName:(h(t.match(u))||"").toLowerCase(),id:d(l(t.match(c))),classNames:f(t.match(a)),relation:0<e?t[0]:null}}).reverse()}function y(e,t){return null!=e&&((!t.tagName||e.tagName===t.tagName)&&((!t.id||e.id===t.id)&&!(t.classNames&&!t.classNames.every(function(t){return e.classList.contains(t)}))))}function g(t,n){for(var r=t,e=function(e){switch(n[e-1].relation){case" ":for(;null!=(r=r.parentNode)&&!y(r,n[e]););break;case">":if(!y(r.parentNode,n[e]))return{v:!1};break;case"+":if(!y(r.parentNode.childNodes.find(function(t){return t.nextSibling===r}),n[e]))return{v:!1};break;case"~":if(!r.parentNode.childNodes.slice(0,r.parentNode.childNodes.indexOf(r)).some(function(t){return y(t,n[e])}))return{v:!1}}},i=1;i<n.length;i++){var o=e(i);if(o)return o.v}return null!=r}function N(t,e,n){var r=m(t);if(null==r)return[];for(var i=e.getElementsByTagName(r[0].tagName||"*"),o=[],s=0;s<i.length&&!(y(i[s],r[0])&&g(i[s],r)&&(o.push(i[s]),null!=n&&o.length>=n));s++);return o}function v(t,e){return N(t,e,1)[0]||null}function b(){}function E(t){var n=[],r=t.split("");r.map(function(t,e){"-"===t&&n.push(e)});var i=t.split("");return n.map(function(t,e){var n=r[t+1].toUpperCase();i.splice(t-e,2,n)}),i.join("")}function w(t){var n=[],e=t.split("");e.map(function(t,e){/^[A-Z]/.test(t)&&n.push(e)});var r=t.split("");return n.map(function(t){r.splice(t,1,"-"+e[t].toLowerCase())}),r.join("")}function j(){}function L(){}b.prototype={},(j.prototype=Object.create({})).setProperty=function(t,e){this[E(t)]=e},j.prototype.valueOf=function(){return this},j.prototype.toString=function(){var t="";for(var e in this)this.hasOwnProperty(e)&&(t+=w(e)+": "+this[e]+"; ");return t},j.prototype.setValue=function(t){var e=t.split(";");for(var n in e){var r=n.split(":");this[r[0].trim()]=r[1].trim()}},Object.defineProperty(j.prototype,"cssText",{get:function(){return this.toString()},set:function(t){this.setValue(t)},enumerable:!0}),L.prototype={};var O="area base br col command embed hr img input keygen link meta param source track wbr".split(" ").reduce(function(t,e){return t[e]=!0,t},{});function C(t){for(var e in n.apply(this),this.attributes=new b,this.style=new j,this.dataset=new L,this.nodeType=1,t)this[e]=t[e];this.tagName||(this.tagName="div"),this.tagName=this.tagName.toLowerCase(),Object.defineProperty(this,"isVoidEl",{value:O[this.tagName]})}var T=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(C);(C.prototype=Object.create(n.prototype)).constructor=C;var P=function(){};"blur click focus".split(" ").forEach(function(t){return C.prototype[t]=P});var x="tagName view nodeType isVoidEl parent parentNode childNodes isMounted".split(" ").reduce(function(t,e){return t[e]=!0,t},{});function B(t){return t.render()}function _(){this.documentElement=this.createElement("html"),this.head=this.documentElement.appendChild(this.createElement("head")),this.body=this.documentElement.appendChild(this.createElement("body")),this.nodeType=9}C.prototype.render=function(t){var e=this,n=this.isVoidEl,r=[],i=!1,o="";for(var s in this)if("isMounted"!==s&&"style"!==s&&"attributes"!==s&&"dataset"!==s&&"_classList"!==s&&this.hasOwnProperty(s))if(x[s])this.childNodes.length&&(i=!0);else if("_innerHTML"===s)o=this._innerHTML;else if(!x[s]){if("function"==typeof this[s])continue;var c=void 0;switch(typeof this[s]){case"string":case"number":c='"'+this[s]+'"';break;default:c="'"+JSON.stringify(this[s])+"'"}r.push(s+"="+c)}this.className&&r.push('class="'+this.className+'"');var u=this.style.cssText;0<u.length&&r.push('style="'+u+'"');var a=Object.keys(this.attributes);if(0<a.length&&a.filter(function(t){return!(t in["style","_classList"])}).map(function(t){return r.push(t+'="'+e.attributes[t]+'"')}),t)return!n&&i?this.childNodes.map(B).join(""):!n&&o?o:"";if(!n&&i){var l=this.tagName;return"<"+[l].concat(r).join(" ")+">"+this.childNodes.map(B).join("")+"</"+l+">"}if(!n&&o){var h=this.tagName;return"<"+[this.tagName].concat(r).join(" ")+">"+o+"</"+h+">"}var p=[this.tagName].concat(r).join(" ");return n?"<"+p+">":"<"+p+"></"+this.tagName+">"},C.prototype.addEventListener=function(){},C.prototype.removeEventListener=function(){},C.prototype.setAttribute=function(t,e){var n=this;switch(t){case"class":this.classList.splice(0,this.classList.length),e.split(" ").forEach(function(t){return n.classList.add(t)})}var r,i,o,s,c=t;/^data-/.test(t)?(c=E(t),this.dataset[c]=e,Object.defineProperty(this,c,{get:(o=this,s=c,function(){return o.dataset[s]}),enumerable:!0})):this.hasOwnProperty(c)||Object.defineProperty(this,c,{get:(r=this,i=c,function(){return r.attributes[i]}),enumerable:!0}),this.attributes[t]=e},C.prototype.getAttribute=function(t){return this.attributes[t]||this[t]},C.prototype.appendChild=function(t){if(!this.isVoidEl){t.parentNode=this;for(var e=0;e<this.childNodes.length;e++)this.childNodes[e]===t&&this.childNodes.splice(e,1);return this.childNodes.push(t),t}},C.prototype.insertBefore=function(t,e){var n=this;if(!this.isVoidEl){if(t.parentNode=this,null==e)n.childNodes.push(t);else for(var r=0;r<this.childNodes.length;r++)n.childNodes[r]===e?n.childNodes.splice(r++,0,t):n.childNodes[r]===t&&n.childNodes.splice(r,1);return t}},C.prototype.replaceChild=function(t,e){if(!this.isVoidEl){t.parentNode=this;for(var n=0;n<this.childNodes.length;n++)this.childNodes[n]===e&&(this.childNodes[n]=t)}},C.prototype.removeChild=function(t){if(!this.isVoidEl){t.parentNode=null;for(var e=0;e<this.childNodes.length;e++)this.childNodes[e]===t&&this.childNodes.splice(e,1)}},C.prototype.getElementsByTagName=function(t){var n=t.toLowerCase();return this.isVoidEl||0===this.childNodes.length?[]:this.childNodes.reduce(function(t,e){return e.getElementsByTagName?"*"===n||e.tagName===n?t.concat(e,e.getElementsByTagName(n)):t.concat(e.getElementsByTagName(n)):t},[])},C.prototype.getElementsByClassName=function(n){return Array.isArray(n)?0===n.length?[]:this.childNodes.reduce(function(t,e){return n.every(function(t){return e.classList.contains(t)})?t.concat(e,e.getElementsByClassName(n)):t.concat(e.getElementsByClassName(n))},[]):this.getElementsByClassName(String(n).split(" ").map(function(t){return t.trim()}).filter(function(t){return 0<t.length}))},C.prototype.querySelector=function(t){return v(t,this)},C.prototype.querySelectorAll=function(t){return N(t,this)},C.prototype.matches=function(t){var e=m(t);return!(null==e||1<e.length)&&y(this,e[0])},Object.defineProperties(C.prototype,{_classList:{value:null,enumerable:!1,configurable:!1,writable:!0},classList:{get:function(){return this._classList||(this._classList=new e(this)),this._classList}},className:{set:function(t){this.classList.reset(t)},get:function(){return null==this._classList?"":this._classList.toString()}},innerHTML:{get:function(){return this._innerHTML||this.render(!0)},set:function(t){this._innerHTML=t}},outerHTML:{get:function(){return this.render()}},firstChild:{get:function(){return this.childNodes[0]}},textContent:{get:function(){return this.childNodes.filter(function(t){return t instanceof r}).map(function(t){return t.textContent}).join("")},set:function(t){this.childNodes=[new r(t)]}},nextSibling:{get:function(){for(var t=this.parentNode.childNodes,e=0;e<t.length;e++)if(t[e]===this)return t[e+1]}}}),_.prototype.createElement=function(t){var e,n=new C({tagName:t});return"ownerDocument"in n||Object.defineProperty(n,"ownerDocument",{enumerable:!1,get:(e=this,function(){return e})}),n},_.prototype.createElementNS=function(t,e){var n,r;return"ownerDocument"in(n="http://www.w3.org/2000/svg"===e?new T({tagName:e}):new C({tagName:e}))||Object.defineProperty(n,"ownerDocument",{enumerable:!1,get:(r=this,function(){return r})}),n},_.prototype.createDocumentFragment=function(){return(new _).body},_.prototype.createTextNode=function(t){var e,n=new r(t);return"ownerDocument"in n||Object.defineProperty(n,"ownerDocument",{enumerable:!1,get:(e=this,function(){return e})}),n},_.prototype.getElementsByTagName=function(t){var e=t.toLowerCase();return"html"===e?[this.documentElement]:"*"===e?[this.documentElement].concat(this.documentElement.getElementsByTagName(e)):this.documentElement.getElementsByTagName(e)},_.prototype.getElementsByClassName=function(n){var e=this;if(!Array.isArray(n))return this.getElementsByClassName(String(n).split(" ").map(function(t){return t.trim()}).filter(function(t){return 0<t.length}));if(0===n.length)return[];var t=n.every(function(t){return e.documentElement.classList.contains(t)});return this.documentElement.childNodes.reduce(function(t,e){return n.every(function(t){return e.classList.contains(t)})?t.concat(e,e.getElementsByClassName(n)):t.concat(e.getElementsByClassName(n))},t?[this.documentElement]:[])},_.prototype.getElementById=function(t){if(this.documentElement.id===t)return this.documentElement;return function t(e,n){for(var r=[],i=0;i<n.length;i++){if(n[i].id===e)return n[i];r=r.concat(n[i].childNodes)}return 0<r.length?t(e,r):null}(t,this.documentElement.childNodes)},_.prototype.querySelector=function(t){return v(t,this)},_.prototype.querySelectorAll=function(t){return N(t,this)},(_.prototype.implementation=Object.create(null)).hasFeature=function(t){return!1},_.prototype.implementation.createHTMLDocument=function(t){var e=new _;return e.outerHTML=t,e},t.Document=_,t.HTMLElement=C,t.SVGElement=T,t.Node=n,t.render=function(t,e){return(t.el||t).render(e)},t.TextNode=r,Object.defineProperty(t,"__esModule",{value:!0})});